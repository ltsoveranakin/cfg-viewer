var $=Object.defineProperty;var K=(f,y,o)=>y in f?$(f,y,{enumerable:!0,configurable:!0,writable:!0,value:o}):f[y]=o;var Z=(f,y,o)=>(K(f,typeof y!="symbol"?y+"":y,o),o);(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))l(b);new MutationObserver(b=>{for(const E of b)if(E.type==="childList")for(const d of E.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(b){const E={};return b.integrity&&(E.integrity=b.integrity),b.referrerPolicy&&(E.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?E.credentials="include":b.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function l(b){if(b.ep)return;b.ep=!0;const E=o(b);fetch(b.href,E)}})();var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var G={},Q={get exports(){return G},set exports(f){G=f}},z={},tt={get exports(){return z},set exports(f){z=f}},H;function it(){return H||(H=1,function(f){/**
 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/long.js for details
 */(function(y,o){typeof X=="function"&&f&&f.exports?f.exports=o():(y.dcodeIO=y.dcodeIO||{}).Long=o()})(Y,function(){function y(u,h,p){this.low=u|0,this.high=h|0,this.unsigned=!!p}y.prototype.__isLong__,Object.defineProperty(y.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1});function o(u){return(u&&u.__isLong__)===!0}y.isLong=o;var l={},b={};function E(u,h){var p,I,L;return h?(u>>>=0,(L=0<=u&&u<256)&&(I=b[u],I)?I:(p=v(u,(u|0)<0?-1:0,!0),L&&(b[u]=p),p)):(u|=0,(L=-128<=u&&u<128)&&(I=l[u],I)?I:(p=v(u,u<0?-1:0,!1),L&&(l[u]=p),p))}y.fromInt=E;function d(u,h){if(isNaN(u)||!isFinite(u))return h?s:a;if(h){if(u<0)return s;if(u>=r)return T}else{if(u<=-e)return m;if(u+1>=e)return x}return u<0?d(-u,h).neg():v(u%i|0,u/i|0,h)}y.fromNumber=d;function v(u,h,p){return new y(u,h,p)}y.fromBits=v;var q=Math.pow;function V(u,h,p){if(u.length===0)throw Error("empty string");if(u==="NaN"||u==="Infinity"||u==="+Infinity"||u==="-Infinity")return a;if(typeof h=="number"?(p=h,h=!1):h=!!h,p=p||10,p<2||36<p)throw RangeError("radix");var I;if((I=u.indexOf("-"))>0)throw Error("interior hyphen");if(I===0)return V(u.substring(1),h,p).neg();for(var L=d(q(p,8)),A=a,B=0;B<u.length;B+=8){var k=Math.min(8,u.length-B),N=parseInt(u.substring(B,B+k),p);if(k<8){var _=d(q(p,k));A=A.mul(_).add(d(N))}else A=A.mul(L),A=A.add(d(N))}return A.unsigned=h,A}y.fromString=V;function S(u){return u instanceof y?u:typeof u=="number"?d(u):typeof u=="string"?V(u):v(u.low,u.high,u.unsigned)}y.fromValue=S;var U=1<<16,t=1<<24,i=U*U,r=i*i,e=r/2,n=E(t),a=E(0);y.ZERO=a;var s=E(0,!0);y.UZERO=s;var g=E(1);y.ONE=g;var c=E(1,!0);y.UONE=c;var F=E(-1);y.NEG_ONE=F;var x=v(-1,2147483647,!1);y.MAX_VALUE=x;var T=v(-1,-1,!0);y.MAX_UNSIGNED_VALUE=T;var m=v(0,-2147483648,!1);y.MIN_VALUE=m;var w=y.prototype;return w.toInt=function(){return this.unsigned?this.low>>>0:this.low},w.toNumber=function(){return this.unsigned?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},w.toString=function(h){if(h=h||10,h<2||36<h)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(m)){var p=d(h),I=this.div(p),L=I.mul(p).sub(this);return I.toString(h)+L.toInt().toString(h)}else return"-"+this.neg().toString(h);for(var A=d(q(h,6),this.unsigned),B=this,k="";;){var N=B.div(A),_=B.sub(N.mul(A)).toInt()>>>0,O=_.toString(h);if(B=N,B.isZero())return O+k;for(;O.length<6;)O="0"+O;k=""+O+k}},w.getHighBits=function(){return this.high},w.getHighBitsUnsigned=function(){return this.high>>>0},w.getLowBits=function(){return this.low},w.getLowBitsUnsigned=function(){return this.low>>>0},w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(m)?64:this.neg().getNumBitsAbs();for(var h=this.high!=0?this.high:this.low,p=31;p>0&&!(h&1<<p);p--);return this.high!=0?p+33:p+1},w.isZero=function(){return this.high===0&&this.low===0},w.isNegative=function(){return!this.unsigned&&this.high<0},w.isPositive=function(){return this.unsigned||this.high>=0},w.isOdd=function(){return(this.low&1)===1},w.isEven=function(){return(this.low&1)===0},w.equals=function(h){return o(h)||(h=S(h)),this.unsigned!==h.unsigned&&this.high>>>31===1&&h.high>>>31===1?!1:this.high===h.high&&this.low===h.low},w.eq=w.equals,w.notEquals=function(h){return!this.eq(h)},w.neq=w.notEquals,w.lessThan=function(h){return this.comp(h)<0},w.lt=w.lessThan,w.lessThanOrEqual=function(h){return this.comp(h)<=0},w.lte=w.lessThanOrEqual,w.greaterThan=function(h){return this.comp(h)>0},w.gt=w.greaterThan,w.greaterThanOrEqual=function(h){return this.comp(h)>=0},w.gte=w.greaterThanOrEqual,w.compare=function(h){if(o(h)||(h=S(h)),this.eq(h))return 0;var p=this.isNegative(),I=h.isNegative();return p&&!I?-1:!p&&I?1:this.unsigned?h.high>>>0>this.high>>>0||h.high===this.high&&h.low>>>0>this.low>>>0?-1:1:this.sub(h).isNegative()?-1:1},w.comp=w.compare,w.negate=function(){return!this.unsigned&&this.eq(m)?m:this.not().add(g)},w.neg=w.negate,w.add=function(h){o(h)||(h=S(h));var p=this.high>>>16,I=this.high&65535,L=this.low>>>16,A=this.low&65535,B=h.high>>>16,k=h.high&65535,N=h.low>>>16,_=h.low&65535,O=0,R=0,C=0,M=0;return M+=A+_,C+=M>>>16,M&=65535,C+=L+N,R+=C>>>16,C&=65535,R+=I+k,O+=R>>>16,R&=65535,O+=p+B,O&=65535,v(C<<16|M,O<<16|R,this.unsigned)},w.subtract=function(h){return o(h)||(h=S(h)),this.add(h.neg())},w.sub=w.subtract,w.multiply=function(h){if(this.isZero()||(o(h)||(h=S(h)),h.isZero()))return a;if(this.eq(m))return h.isOdd()?m:a;if(h.eq(m))return this.isOdd()?m:a;if(this.isNegative())return h.isNegative()?this.neg().mul(h.neg()):this.neg().mul(h).neg();if(h.isNegative())return this.mul(h.neg()).neg();if(this.lt(n)&&h.lt(n))return d(this.toNumber()*h.toNumber(),this.unsigned);var p=this.high>>>16,I=this.high&65535,L=this.low>>>16,A=this.low&65535,B=h.high>>>16,k=h.high&65535,N=h.low>>>16,_=h.low&65535,O=0,R=0,C=0,M=0;return M+=A*_,C+=M>>>16,M&=65535,C+=L*_,R+=C>>>16,C&=65535,C+=A*N,R+=C>>>16,C&=65535,R+=I*_,O+=R>>>16,R&=65535,R+=L*N,O+=R>>>16,R&=65535,R+=A*k,O+=R>>>16,R&=65535,O+=p*_+I*N+L*k+A*B,O&=65535,v(C<<16|M,O<<16|R,this.unsigned)},w.mul=w.multiply,w.divide=function(h){if(o(h)||(h=S(h)),h.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?s:a;var p,I,L;if(this.unsigned){if(h.unsigned||(h=h.toUnsigned()),h.gt(this))return s;if(h.gt(this.shru(1)))return c;L=s}else{if(this.eq(m)){if(h.eq(g)||h.eq(F))return m;if(h.eq(m))return g;var A=this.shr(1);return p=A.div(h).shl(1),p.eq(a)?h.isNegative()?g:F:(I=this.sub(h.mul(p)),L=p.add(I.div(h)),L)}else if(h.eq(m))return this.unsigned?s:a;if(this.isNegative())return h.isNegative()?this.neg().div(h.neg()):this.neg().div(h).neg();if(h.isNegative())return this.div(h.neg()).neg();L=a}for(I=this;I.gte(h);){p=Math.max(1,Math.floor(I.toNumber()/h.toNumber()));for(var B=Math.ceil(Math.log(p)/Math.LN2),k=B<=48?1:q(2,B-48),N=d(p),_=N.mul(h);_.isNegative()||_.gt(I);)p-=k,N=d(p,this.unsigned),_=N.mul(h);N.isZero()&&(N=g),L=L.add(N),I=I.sub(_)}return L},w.div=w.divide,w.modulo=function(h){return o(h)||(h=S(h)),this.sub(this.div(h).mul(h))},w.mod=w.modulo,w.not=function(){return v(~this.low,~this.high,this.unsigned)},w.and=function(h){return o(h)||(h=S(h)),v(this.low&h.low,this.high&h.high,this.unsigned)},w.or=function(h){return o(h)||(h=S(h)),v(this.low|h.low,this.high|h.high,this.unsigned)},w.xor=function(h){return o(h)||(h=S(h)),v(this.low^h.low,this.high^h.high,this.unsigned)},w.shiftLeft=function(h){return o(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?v(this.low<<h,this.high<<h|this.low>>>32-h,this.unsigned):v(0,this.low<<h-32,this.unsigned)},w.shl=w.shiftLeft,w.shiftRight=function(h){return o(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?v(this.low>>>h|this.high<<32-h,this.high>>h,this.unsigned):v(this.high>>h-32,this.high>=0?0:-1,this.unsigned)},w.shr=w.shiftRight,w.shiftRightUnsigned=function(h){if(o(h)&&(h=h.toInt()),h&=63,h===0)return this;var p=this.high;if(h<32){var I=this.low;return v(I>>>h|p<<32-h,p>>>h,this.unsigned)}else return h===32?v(p,0,this.unsigned):v(p>>>h-32,0,this.unsigned)},w.shru=w.shiftRightUnsigned,w.toSigned=function(){return this.unsigned?v(this.low,this.high,!1):this},w.toUnsigned=function(){return this.unsigned?this:v(this.low,this.high,!0)},w.toBytes=function(u){return u?this.toBytesLE():this.toBytesBE()},w.toBytesLE=function(){var u=this.high,h=this.low;return[h&255,h>>>8&255,h>>>16&255,h>>>24&255,u&255,u>>>8&255,u>>>16&255,u>>>24&255]},w.toBytesBE=function(){var u=this.high,h=this.low;return[u>>>24&255,u>>>16&255,u>>>8&255,u&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255]},y})}(tt)),z}(function(f){/**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */(function(y,o){typeof X=="function"&&f&&f.exports?f.exports=function(){var l;try{l=it()}catch{}return o(l)}():(y.dcodeIO=y.dcodeIO||{}).ByteBuffer=o(y.dcodeIO.Long)})(Y,function(y){var o=function(t,i,r){if(typeof t>"u"&&(t=o.DEFAULT_CAPACITY),typeof i>"u"&&(i=o.DEFAULT_ENDIAN),typeof r>"u"&&(r=o.DEFAULT_NOASSERT),!r){if(t=t|0,t<0)throw RangeError("Illegal capacity");i=!!i,r=!!r}this.buffer=t===0?b:new ArrayBuffer(t),this.view=t===0?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=i,this.noAssert=r};o.VERSION="5.0.1",o.LITTLE_ENDIAN=!0,o.BIG_ENDIAN=!1,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN,o.DEFAULT_NOASSERT=!1,o.Long=y||null;var l=o.prototype;l.__isByteBuffer__,Object.defineProperty(l,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var b=new ArrayBuffer(0),E=String.fromCharCode;function d(t){var i=0;return function(){return i<t.length?t.charCodeAt(i++):null}}function v(){var t=[],i=[];return function(){if(arguments.length===0)return i.join("")+E.apply(String,t);t.length+arguments.length>1024&&(i.push(E.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}o.accessor=function(){return Uint8Array},o.allocate=function(t,i,r){return new o(t,i,r)},o.concat=function(t,i,r,e){(typeof i=="boolean"||typeof i!="string")&&(e=r,r=i,i=void 0);for(var n=0,a=0,s=t.length,g;a<s;++a)o.isByteBuffer(t[a])||(t[a]=o.wrap(t[a],i)),g=t[a].limit-t[a].offset,g>0&&(n+=g);if(n===0)return new o(0,r,e);var c=new o(n,r,e),F;for(a=0;a<s;)F=t[a++],g=F.limit-F.offset,!(g<=0)&&(c.view.set(F.view.subarray(F.offset,F.limit),c.offset),c.offset+=g);return c.limit=c.offset,c.offset=0,c},o.isByteBuffer=function(t){return(t&&t.__isByteBuffer__)===!0},o.type=function(){return ArrayBuffer},o.wrap=function(t,i,r,e){if(typeof i!="string"&&(e=r,r=i,i=void 0),typeof t=="string")switch(typeof i>"u"&&(i="utf8"),i){case"base64":return o.fromBase64(t,r);case"hex":return o.fromHex(t,r);case"binary":return o.fromBinary(t,r);case"utf8":return o.fromUTF8(t,r);case"debug":return o.fromDebug(t,r);default:throw Error("Unsupported encoding: "+i)}if(t===null||typeof t!="object")throw TypeError("Illegal buffer");var n;if(o.isByteBuffer(t))return n=l.clone.call(t),n.markedOffset=-1,n;if(t instanceof Uint8Array)n=new o(0,r,e),t.length>0&&(n.buffer=t.buffer,n.offset=t.byteOffset,n.limit=t.byteOffset+t.byteLength,n.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)n=new o(0,r,e),t.byteLength>0&&(n.buffer=t,n.offset=0,n.limit=t.byteLength,n.view=t.byteLength>0?new Uint8Array(t):null);else if(Object.prototype.toString.call(t)==="[object Array]"){n=new o(t.length,r,e),n.limit=t.length;for(var a=0;a<t.length;++a)n.view[a]=t[a]}else throw TypeError("Illegal buffer");return n},l.writeBitSet=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var e=i,n=t.length,a=n>>3,s=0,g;for(i+=this.writeVarint32(n,i);a--;)g=!!t[s++]&1|(!!t[s++]&1)<<1|(!!t[s++]&1)<<2|(!!t[s++]&1)<<3|(!!t[s++]&1)<<4|(!!t[s++]&1)<<5|(!!t[s++]&1)<<6|(!!t[s++]&1)<<7,this.writeByte(g,i++);if(s<n){var c=0;for(g=0;s<n;)g=g|(!!t[s++]&1)<<c++;this.writeByte(g,i++)}return r?(this.offset=i,this):i-e},l.readBitSet=function(t){var i=typeof t>"u";i&&(t=this.offset);var r=this.readVarint32(t),e=r.value,n=e>>3,a=0,s=[],g;for(t+=r.length;n--;)g=this.readByte(t++),s[a++]=!!(g&1),s[a++]=!!(g&2),s[a++]=!!(g&4),s[a++]=!!(g&8),s[a++]=!!(g&16),s[a++]=!!(g&32),s[a++]=!!(g&64),s[a++]=!!(g&128);if(a<e){var c=0;for(g=this.readByte(t++);a<e;)s[a++]=!!(g>>c++&1)}return i&&(this.offset=t),s},l.readBytes=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+t+") <= "+this.buffer.byteLength)}var e=this.slice(i,i+t);return r&&(this.offset+=t),e},l.writeBytes=l.append,l.writeInt8=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=1;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=1,this.view[i]=t,r&&(this.offset+=1),this},l.writeByte=l.writeInt8,l.readInt8=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return(r&128)===128&&(r=-(255-r+1)),i&&(this.offset+=1),r},l.readByte=l.readInt8,l.writeUint8=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=1;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=1,this.view[i]=t,r&&(this.offset+=1),this},l.writeUInt8=l.writeUint8,l.readUint8=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return i&&(this.offset+=1),r},l.readUInt8=l.readUint8,l.writeInt16=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=2;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=2,this.littleEndian?(this.view[i+1]=(t&65280)>>>8,this.view[i]=t&255):(this.view[i]=(t&65280)>>>8,this.view[i+1]=t&255),r&&(this.offset+=2),this},l.writeShort=l.writeInt16,l.readInt16=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),(r&32768)===32768&&(r=-(65535-r+1)),i&&(this.offset+=2),r},l.readShort=l.readInt16,l.writeUint16=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=2;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=2,this.littleEndian?(this.view[i+1]=(t&65280)>>>8,this.view[i]=t&255):(this.view[i]=(t&65280)>>>8,this.view[i+1]=t&255),r&&(this.offset+=2),this},l.writeUInt16=l.writeUint16,l.readUint16=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),i&&(this.offset+=2),r},l.readUInt16=l.readUint16,l.writeInt32=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=4;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=4,this.littleEndian?(this.view[i+3]=t>>>24&255,this.view[i+2]=t>>>16&255,this.view[i+1]=t>>>8&255,this.view[i]=t&255):(this.view[i]=t>>>24&255,this.view[i+1]=t>>>16&255,this.view[i+2]=t>>>8&255,this.view[i+3]=t&255),r&&(this.offset+=4),this},l.writeInt=l.writeInt32,l.readInt32=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,i&&(this.offset+=4),r},l.readInt=l.readInt32,l.writeUint32=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=4;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=4,this.littleEndian?(this.view[i+3]=t>>>24&255,this.view[i+2]=t>>>16&255,this.view[i+1]=t>>>8&255,this.view[i]=t&255):(this.view[i]=t>>>24&255,this.view[i+1]=t>>>16&255,this.view[i+2]=t>>>8&255,this.view[i+3]=t&255),r&&(this.offset+=4),this},l.writeUInt32=l.writeUint32,l.readUint32=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),i&&(this.offset+=4),r},l.readUInt32=l.readUint32,y&&(l.writeInt64=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t=="number")t=y.fromNumber(t);else if(typeof t=="string")t=y.fromString(t);else if(!(t&&t instanceof y))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"?t=y.fromNumber(t):typeof t=="string"&&(t=y.fromString(t)),i+=8;var e=this.buffer.byteLength;i>e&&this.resize((e*=2)>i?e:i),i-=8;var n=t.low,a=t.high;return this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=n&255,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=a&255):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=a&255,i+=4,this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=n&255),r&&(this.offset+=8),this},l.writeLong=l.writeInt64,l.readInt64=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,e=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,e=this.view[t+2]<<16,e|=this.view[t+1]<<8,e|=this.view[t],e+=this.view[t+3]<<24>>>0):(e=this.view[t+1]<<16,e|=this.view[t+2]<<8,e|=this.view[t+3],e+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var n=new y(r,e,!1);return i&&(this.offset+=8),n},l.readLong=l.readInt64,l.writeUint64=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t=="number")t=y.fromNumber(t);else if(typeof t=="string")t=y.fromString(t);else if(!(t&&t instanceof y))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"?t=y.fromNumber(t):typeof t=="string"&&(t=y.fromString(t)),i+=8;var e=this.buffer.byteLength;i>e&&this.resize((e*=2)>i?e:i),i-=8;var n=t.low,a=t.high;return this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=n&255,i+=4,this.view[i+3]=a>>>24&255,this.view[i+2]=a>>>16&255,this.view[i+1]=a>>>8&255,this.view[i]=a&255):(this.view[i]=a>>>24&255,this.view[i+1]=a>>>16&255,this.view[i+2]=a>>>8&255,this.view[i+3]=a&255,i+=4,this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=n&255),r&&(this.offset+=8),this},l.writeUInt64=l.writeUint64,l.readUint64=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=0,e=0;this.littleEndian?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0,t+=4,e=this.view[t+2]<<16,e|=this.view[t+1]<<8,e|=this.view[t],e+=this.view[t+3]<<24>>>0):(e=this.view[t+1]<<16,e|=this.view[t+2]<<8,e|=this.view[t+3],e+=this.view[t]<<24>>>0,t+=4,r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0);var n=new y(r,e,!0);return i&&(this.offset+=8),n},l.readUInt64=l.readUint64);function q(t,i,r,e,n){var a,s,g=n*8-e-1,c=(1<<g)-1,F=c>>1,x=-7,T=r?n-1:0,m=r?-1:1,w=t[i+T];for(T+=m,a=w&(1<<-x)-1,w>>=-x,x+=g;x>0;a=a*256+t[i+T],T+=m,x-=8);for(s=a&(1<<-x)-1,a>>=-x,x+=e;x>0;s=s*256+t[i+T],T+=m,x-=8);if(a===0)a=1-F;else{if(a===c)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,e),a=a-F}return(w?-1:1)*s*Math.pow(2,a-e)}function V(t,i,r,e,n,a){var s,g,c,F=a*8-n-1,x=(1<<F)-1,T=x>>1,m=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=e?0:a-1,u=e?1:-1,h=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(g=isNaN(i)?1:0,s=x):(s=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+T>=1?i+=m/c:i+=m*Math.pow(2,1-T),i*c>=2&&(s++,c/=2),s+T>=x?(g=0,s=x):s+T>=1?(g=(i*c-1)*Math.pow(2,n),s=s+T):(g=i*Math.pow(2,T-1)*Math.pow(2,n),s=0));n>=8;t[r+w]=g&255,w+=u,g/=256,n-=8);for(s=s<<n|g,F+=n;F>0;t[r+w]=s&255,w+=u,s/=256,F-=8);t[r+w-u]|=h*128}l.writeFloat32=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number")throw TypeError("Illegal value: "+t+" (not a number)");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=4;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=4,V(this.view,t,i,this.littleEndian,23,4),r&&(this.offset+=4),this},l.writeFloat=l.writeFloat32,l.readFloat32=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=q(this.view,t,this.littleEndian,23,4);return i&&(this.offset+=4),r},l.readFloat=l.readFloat32,l.writeFloat64=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number")throw TypeError("Illegal value: "+t+" (not a number)");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}i+=8;var e=this.buffer.byteLength;return i>e&&this.resize((e*=2)>i?e:i),i-=8,V(this.view,t,i,this.littleEndian,52,8),r&&(this.offset+=8),this},l.writeDouble=l.writeFloat64,l.readFloat64=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=q(this.view,t,this.littleEndian,52,8);return i&&(this.offset+=8),r},l.readDouble=l.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(t){return t=t>>>0,t<1<<7?1:t<1<<14?2:t<1<<21?3:t<1<<28?4:5},o.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},o.zigZagDecode32=function(t){return t>>>1^-(t&1)|0},l.writeVarint32=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var e=o.calculateVarint32(t),n;i+=e;var a=this.buffer.byteLength;for(i>a&&this.resize((a*=2)>i?a:i),i-=e,t>>>=0;t>=128;)n=t&127|128,this.view[i++]=n,t>>>=7;return this.view[i++]=t,r?(this.offset=i,this):e},l.writeVarint32ZigZag=function(t,i){return this.writeVarint32(o.zigZagEncode32(t),i)},l.readVarint32=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=0,e=0>>>0,n;do{if(!this.noAssert&&t>this.limit){var a=Error("Truncated");throw a.truncated=!0,a}n=this.view[t++],r<5&&(e|=(n&127)<<7*r),++r}while(n&128);return e|=0,i?(this.offset=t,e):{value:e,length:r}},l.readVarint32ZigZag=function(t){var i=this.readVarint32(t);return typeof i=="object"?i.value=o.zigZagDecode32(i.value):i=o.zigZagDecode32(i),i},y&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(t){typeof t=="number"?t=y.fromNumber(t):typeof t=="string"&&(t=y.fromString(t));var i=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,e=t.shiftRightUnsigned(56).toInt()>>>0;return e==0?r==0?i<1<<14?i<1<<7?1:2:i<1<<21?3:4:r<1<<14?r<1<<7?5:6:r<1<<21?7:8:e<1<<7?9:10},o.zigZagEncode64=function(t){return typeof t=="number"?t=y.fromNumber(t,!1):typeof t=="string"?t=y.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(t){return typeof t=="number"?t=y.fromNumber(t,!1):typeof t=="string"?t=y.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(y.ONE).toSigned().negate()).toSigned()},l.writeVarint64=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t=="number")t=y.fromNumber(t);else if(typeof t=="string")t=y.fromString(t);else if(!(t&&t instanceof y))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"?t=y.fromNumber(t,!1):typeof t=="string"?t=y.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned());var e=o.calculateVarint64(t),n=t.toInt()>>>0,a=t.shiftRightUnsigned(28).toInt()>>>0,s=t.shiftRightUnsigned(56).toInt()>>>0;i+=e;var g=this.buffer.byteLength;switch(i>g&&this.resize((g*=2)>i?g:i),i-=e,e){case 10:this.view[i+9]=s>>>7&1;case 9:this.view[i+8]=e!==9?s|128:s&127;case 8:this.view[i+7]=e!==8?a>>>21|128:a>>>21&127;case 7:this.view[i+6]=e!==7?a>>>14|128:a>>>14&127;case 6:this.view[i+5]=e!==6?a>>>7|128:a>>>7&127;case 5:this.view[i+4]=e!==5?a|128:a&127;case 4:this.view[i+3]=e!==4?n>>>21|128:n>>>21&127;case 3:this.view[i+2]=e!==3?n>>>14|128:n>>>14&127;case 2:this.view[i+1]=e!==2?n>>>7|128:n>>>7&127;case 1:this.view[i]=e!==1?n|128:n&127}return r?(this.offset+=e,this):e},l.writeVarint64ZigZag=function(t,i){return this.writeVarint64(o.zigZagEncode64(t),i)},l.readVarint64=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,e=0,n=0,a=0,s=0;if(s=this.view[t++],e=s&127,s&128&&(s=this.view[t++],e|=(s&127)<<7,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],e|=(s&127)<<14,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],e|=(s&127)<<21,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],n=s&127,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],n|=(s&127)<<7,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],n|=(s&127)<<14,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],n|=(s&127)<<21,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],a=s&127,(s&128||this.noAssert&&typeof s>"u")&&(s=this.view[t++],a|=(s&127)<<7,s&128||this.noAssert&&typeof s>"u"))))))))))throw Error("Buffer overrun");var g=y.fromBits(e|n<<28,n>>>4|a<<24,!1);return i?(this.offset=t,g):{value:g,length:t-r}},l.readVarint64ZigZag=function(t){var i=this.readVarint64(t);return i&&i.value instanceof y?i.value=o.zigZagDecode64(i.value):i=o.zigZagDecode64(i),i}),l.writeCString=function(t,i){var r=typeof i>"u";r&&(i=this.offset);var e,n=t.length;if(!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");for(e=0;e<n;++e)if(t.charCodeAt(e)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}n=U.calculateUTF16asUTF8(d(t))[1],i+=n+1;var a=this.buffer.byteLength;return i>a&&this.resize((a*=2)>i?a:i),i-=n+1,U.encodeUTF16toUTF8(d(t),function(s){this.view[i++]=s}.bind(this)),this.view[i++]=0,r?(this.offset=i,this):n},l.readCString=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,e,n=-1;return U.decodeUTF8toUTF16(function(){if(n===0)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return n=this.view[t++],n===0?null:n}.bind(this),e=v(),!0),i?(this.offset=t,e()):{string:e(),length:t-r}},l.writeIString=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var e=i,n;n=U.calculateUTF16asUTF8(d(t),this.noAssert)[1],i+=4+n;var a=this.buffer.byteLength;if(i>a&&this.resize((a*=2)>i?a:i),i-=4+n,this.littleEndian?(this.view[i+3]=n>>>24&255,this.view[i+2]=n>>>16&255,this.view[i+1]=n>>>8&255,this.view[i]=n&255):(this.view[i]=n>>>24&255,this.view[i+1]=n>>>16&255,this.view[i+2]=n>>>8&255,this.view[i+3]=n&255),i+=4,U.encodeUTF16toUTF8(d(t),function(s){this.view[i++]=s}.bind(this)),i!==e+4+n)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+4+n));return r?(this.offset=i,this):i-e},l.readIString=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=t,e=this.readUint32(t),n=this.readUTF8String(e,o.METRICS_BYTES,t+=4);return t+=n.length,i?(this.offset=t,n.string):{string:n.string,length:t-r}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",l.writeUTF8String=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var e,n=i;e=U.calculateUTF16asUTF8(d(t))[1],i+=e;var a=this.buffer.byteLength;return i>a&&this.resize((a*=2)>i?a:i),i-=e,U.encodeUTF16toUTF8(d(t),function(s){this.view[i++]=s}.bind(this)),r?(this.offset=i,this):i-n},l.writeString=l.writeUTF8String,o.calculateUTF8Chars=function(t){return U.calculateUTF16asUTF8(d(t))[0]},o.calculateUTF8Bytes=function(t){return U.calculateUTF16asUTF8(d(t))[1]},o.calculateString=o.calculateUTF8Bytes,l.readUTF8String=function(t,i,r){typeof i=="number"&&(r=i,i=void 0);var e=typeof r>"u";if(e&&(r=this.offset),typeof i>"u"&&(i=o.METRICS_CHARS),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n=0,a=r,s;if(i===o.METRICS_CHARS){if(s=v(),U.decodeUTF8(function(){return n<t&&r<this.limit?this.view[r++]:null}.bind(this),function(c){++n,U.UTF8toUTF16(c,s)}),n!==t)throw RangeError("Illegal range: Truncated data, "+n+" == "+t);return e?(this.offset=r,s()):{string:s(),length:r-a}}else if(i===o.METRICS_BYTES){if(!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+t+") <= "+this.buffer.byteLength)}var g=r+t;if(U.decodeUTF8toUTF16(function(){return r<g?this.view[r++]:null}.bind(this),s=v(),this.noAssert),r!==g)throw RangeError("Illegal range: Truncated data, "+r+" == "+g);return e?(this.offset=r,s()):{string:s(),length:r-a}}else throw TypeError("Unsupported metrics: "+i)},l.readString=l.readUTF8String,l.writeVString=function(t,i){var r=typeof i>"u";if(r&&(i=this.offset),!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var e=i,n,a;n=U.calculateUTF16asUTF8(d(t),this.noAssert)[1],a=o.calculateVarint32(n),i+=a+n;var s=this.buffer.byteLength;if(i>s&&this.resize((s*=2)>i?s:i),i-=a+n,i+=this.writeVarint32(n,i),U.encodeUTF16toUTF8(d(t),function(g){this.view[i++]=g}.bind(this)),i!==e+n+a)throw RangeError("Illegal range: Truncated data, "+i+" == "+(i+n+a));return r?(this.offset=i,this):i-e},l.readVString=function(t){var i=typeof t>"u";if(i&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=t,e=this.readVarint32(t),n=this.readUTF8String(e.value,o.METRICS_BYTES,t+=e.length);return t+=n.length,i?(this.offset=t,n.string):{string:n.string,length:t-r}},l.append=function(t,i,r){(typeof i=="number"||typeof i!="string")&&(r=i,i=void 0);var e=typeof r>"u";if(e&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t,i));var n=t.limit-t.offset;if(n<=0)return this;r+=n;var a=this.buffer.byteLength;return r>a&&this.resize((a*=2)>r?a:r),r-=n,this.view.set(t.view.subarray(t.offset,t.limit),r),t.offset+=n,e&&(this.offset+=n),this},l.appendTo=function(t,i){return t.append(this,i),this},l.assert=function(t){return this.noAssert=!t,this},l.capacity=function(){return this.buffer.byteLength},l.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},l.clone=function(t){var i=new o(0,this.littleEndian,this.noAssert);return t?(i.buffer=new ArrayBuffer(this.buffer.byteLength),i.view=new Uint8Array(i.buffer)):(i.buffer=this.buffer,i.view=this.view),i.offset=this.offset,i.markedOffset=this.markedOffset,i.limit=this.limit,i},l.compact=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(t===0&&i===this.buffer.byteLength)return this;var r=i-t;if(r===0)return this.buffer=b,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var e=new ArrayBuffer(r),n=new Uint8Array(e);return n.set(this.view.subarray(t,i)),this.buffer=e,this.view=n,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},l.copy=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(t===i)return new o(0,this.littleEndian,this.noAssert);var r=i-t,e=new o(r,this.littleEndian,this.noAssert);return e.offset=0,e.limit=r,e.markedOffset>=0&&(e.markedOffset-=t),this.copyTo(e,0,t,i),e},l.copyTo=function(t,i,r,e){var n,a;if(!this.noAssert&&!o.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(i=(a=typeof i>"u")?t.offset:i|0,r=(n=typeof r>"u")?this.offset:r|0,e=typeof e>"u"?this.limit:e|0,i<0||i>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+i+" <= "+t.buffer.byteLength);if(r<0||e>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=e-r;return s===0?t:(t.ensureCapacity(i+s),t.view.set(this.view.subarray(r,e),i),n&&(this.offset+=s),a&&(t.offset+=s),this)},l.ensureCapacity=function(t){var i=this.buffer.byteLength;return i<t?this.resize((i*=2)>t?i:t):this},l.fill=function(t,i,r){var e=typeof i>"u";if(e&&(i=this.offset),typeof t=="string"&&t.length>0&&(t=t.charCodeAt(0)),typeof i>"u"&&(i=this.offset),typeof r>"u"&&(r=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal begin: Not an integer");if(i>>>=0,typeof r!="number"||r%1!==0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,i<0||i>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+i+" <= "+r+" <= "+this.buffer.byteLength)}if(i>=r)return this;for(;i<r;)this.view[i++]=t;return e&&(this.offset=i),this},l.flip=function(){return this.limit=this.offset,this.offset=0,this},l.mark=function(t){if(t=typeof t>"u"?this.offset:t,!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},l.order=function(t){if(!this.noAssert&&typeof t!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},l.LE=function(t){return this.littleEndian=typeof t<"u"?!!t:!0,this},l.BE=function(t){return this.littleEndian=typeof t<"u"?!t:!1,this},l.prepend=function(t,i,r){(typeof i=="number"||typeof i!="string")&&(r=i,i=void 0);var e=typeof r>"u";if(e&&(r=this.offset),!this.noAssert){if(typeof r!="number"||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,r<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t,i));var n=t.limit-t.offset;if(n<=0)return this;var a=n-r;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),g=new Uint8Array(s);g.set(this.view.subarray(r,this.buffer.byteLength),n),this.buffer=s,this.view=g,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,r+=a}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.limit),r-n),t.offset=t.limit,e&&(this.offset-=n),this},l.prependTo=function(t,i){return t.prepend(this,i),this},l.printDebug=function(t){typeof t!="function"&&(t=console.log.bind(console)),t(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},l.remaining=function(){return this.limit-this.offset},l.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},l.resize=function(t){if(!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,t<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var i=new ArrayBuffer(t),r=new Uint8Array(i);r.set(this.view),this.buffer=i,this.view=r}return this},l.reverse=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}return t===i?this:(Array.prototype.reverse.call(this.view.subarray(t,i)),this)},l.skip=function(t){if(!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var i=this.offset+t;if(!this.noAssert&&(i<0||i>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=i,this},l.slice=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=i,r},l.toBuffer=function(t){var i=this.offset,r=this.limit;if(!this.noAssert){if(typeof i!="number"||i%1!==0)throw TypeError("Illegal offset: Not an integer");if(i>>>=0,typeof r!="number"||r%1!==0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,i<0||i>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+i+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&i===0&&r===this.buffer.byteLength)return this.buffer;if(i===r)return b;var e=new ArrayBuffer(r-i);return new Uint8Array(e).set(new Uint8Array(this.buffer).subarray(i,r),0),e},l.toArrayBuffer=l.toBuffer,l.toString=function(t,i,r){if(typeof t>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof t=="number"&&(t="utf8",i=t,r=i),t){case"utf8":return this.toUTF8(i,r);case"base64":return this.toBase64(i,r);case"hex":return this.toHex(i,r);case"binary":return this.toBinary(i,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var S=function(){for(var t={},i=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],e=0,n=i.length;e<n;++e)r[i[e]]=e;return t.encode=function(a,s){for(var g,c;(g=a())!==null;)s(i[g>>2&63]),c=(g&3)<<4,(g=a())!==null?(c|=g>>4&15,s(i[(c|g>>4&15)&63]),c=(g&15)<<2,(g=a())!==null?(s(i[(c|g>>6&3)&63]),s(i[g&63])):(s(i[c&63]),s(61))):(s(i[c&63]),s(61),s(61))},t.decode=function(a,s){var g,c,F;function x(T){throw Error("Illegal character code: "+T)}for(;(g=a())!==null;)if(c=r[g],typeof c>"u"&&x(g),(g=a())!==null&&(F=r[g],typeof F>"u"&&x(g),s(c<<2>>>0|(F&48)>>4),(g=a())!==null)){if(c=r[g],typeof c>"u"){if(g===61)break;x(g)}if(s((F&15)<<4>>>0|(c&60)>>2),(g=a())!==null){if(F=r[g],typeof F>"u"){if(g===61)break;x(g)}s((c&3)<<6>>>0|F)}}},t.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)},t}();l.toBase64=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),t=t|0,i=i|0,t<0||i>this.capacity||t>i)throw RangeError("begin, end");var r;return S.encode(function(){return t<i?this.view[t++]:null}.bind(this),r=v()),r()},o.fromBase64=function(t,i){if(typeof t!="string")throw TypeError("str");var r=new o(t.length/4*3,i),e=0;return S.decode(d(t),function(n){r.view[e++]=n}),r.limit=e,r},o.btoa=function(t){return o.fromBinary(t).toBase64()},o.atob=function(t){return o.fromBase64(t).toBinary()},l.toBinary=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),t|=0,i|=0,t<0||i>this.capacity()||t>i)throw RangeError("begin, end");if(t===i)return"";for(var r=[],e=[];t<i;)r.push(this.view[t++]),r.length>=1024&&(e.push(String.fromCharCode.apply(String,r)),r=[]);return e.join("")+String.fromCharCode.apply(String,r)},o.fromBinary=function(t,i){if(typeof t!="string")throw TypeError("str");for(var r=0,e=t.length,n,a=new o(e,i);r<e;){if(n=t.charCodeAt(r),n>255)throw RangeError("illegal char code: "+n);a.view[r++]=n}return a.limit=e,a},l.toDebug=function(t){for(var i=-1,r=this.buffer.byteLength,e,n="",a="",s="";i<r;){if(i!==-1&&(e=this.view[i],e<16?n+="0"+e.toString(16).toUpperCase():n+=e.toString(16).toUpperCase(),t&&(a+=e>32&&e<127?String.fromCharCode(e):".")),++i,t&&i>0&&i%16===0&&i!==r){for(;n.length<3*16+3;)n+=" ";s+=n+a+`
`,n=a=""}i===this.offset&&i===this.limit?n+=i===this.markedOffset?"!":"|":i===this.offset?n+=i===this.markedOffset?"[":"<":i===this.limit?n+=i===this.markedOffset?"]":">":n+=i===this.markedOffset?"'":t||i!==0&&i!==r?" ":""}if(t&&n!==" "){for(;n.length<3*16+3;)n+=" ";s+=n+a+`
`}return t?s:n},o.fromDebug=function(t,i,r){for(var e=t.length,n=new o((e+1)/3|0,i,r),a=0,s=0,g,c,F=!1,x=!1,T=!1,m=!1,w=!1;a<e;){switch(g=t.charAt(a++)){case"!":if(!r){if(x||T||m){w=!0;break}x=T=m=!0}n.offset=n.markedOffset=n.limit=s,F=!1;break;case"|":if(!r){if(x||m){w=!0;break}x=m=!0}n.offset=n.limit=s,F=!1;break;case"[":if(!r){if(x||T){w=!0;break}x=T=!0}n.offset=n.markedOffset=s,F=!1;break;case"<":if(!r){if(x){w=!0;break}x=!0}n.offset=s,F=!1;break;case"]":if(!r){if(m||T){w=!0;break}m=T=!0}n.limit=n.markedOffset=s,F=!1;break;case">":if(!r){if(m){w=!0;break}m=!0}n.limit=s,F=!1;break;case"'":if(!r){if(T){w=!0;break}T=!0}n.markedOffset=s,F=!1;break;case" ":F=!1;break;default:if(!r&&F){w=!0;break}if(c=parseInt(g+t.charAt(a++),16),!r&&(isNaN(c)||c<0||c>255))throw TypeError("Illegal str: Not a debug encoded string");n.view[s++]=c,F=!0}if(w)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!r){if(!x||!m)throw TypeError("Illegal str: Missing offset or limit");if(s<n.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+s+" < "+e)}return n},l.toHex=function(t,i){if(t=typeof t>"u"?this.offset:t,i=typeof i>"u"?this.limit:i,!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}for(var r=new Array(i-t),e;t<i;)e=this.view[t++],e<16?r.push("0",e.toString(16)):r.push(e.toString(16));return r.join("")},o.fromHex=function(t,i,r){if(!r){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var e=t.length,n=new o(e/2|0,i),a,s=0,g=0;s<e;s+=2){if(a=parseInt(t.substring(s,s+2),16),!r&&(!isFinite(a)||a<0||a>255))throw TypeError("Illegal str: Contains non-hex characters");n.view[g++]=a}return n.limit=g,n};var U=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(i,r){var e=null;for(typeof i=="number"&&(e=i,i=function(){return null});e!==null||(e=i())!==null;)e<128?r(e&127):e<2048?(r(e>>6&31|192),r(e&63|128)):e<65536?(r(e>>12&15|224),r(e>>6&63|128),r(e&63|128)):(r(e>>18&7|240),r(e>>12&63|128),r(e>>6&63|128),r(e&63|128)),e=null},t.decodeUTF8=function(i,r){for(var e,n,a,s,g=function(c){c=c.slice(0,c.indexOf(null));var F=Error(c.toString());throw F.name="TruncatedError",F.bytes=c,F};(e=i())!==null;)if(!(e&128))r(e);else if((e&224)===192)(n=i())===null&&g([e,n]),r((e&31)<<6|n&63);else if((e&240)===224)((n=i())===null||(a=i())===null)&&g([e,n,a]),r((e&15)<<12|(n&63)<<6|a&63);else if((e&248)===240)((n=i())===null||(a=i())===null||(s=i())===null)&&g([e,n,a,s]),r((e&7)<<18|(n&63)<<12|(a&63)<<6|s&63);else throw RangeError("Illegal starting byte: "+e)},t.UTF16toUTF8=function(i,r){for(var e,n=null;(e=n!==null?n:i())!==null;){if(e>=55296&&e<=57343&&(n=i())!==null&&n>=56320&&n<=57343){r((e-55296)*1024+n-56320+65536),n=null;continue}r(e)}n!==null&&r(n)},t.UTF8toUTF16=function(i,r){var e=null;for(typeof i=="number"&&(e=i,i=function(){return null});e!==null||(e=i())!==null;)e<=65535?r(e):(e-=65536,r((e>>10)+55296),r(e%1024+56320)),e=null},t.encodeUTF16toUTF8=function(i,r){t.UTF16toUTF8(i,function(e){t.encodeUTF8(e,r)})},t.decodeUTF8toUTF16=function(i,r){t.decodeUTF8(i,function(e){t.UTF8toUTF16(e,r)})},t.calculateCodePoint=function(i){return i<128?1:i<2048?2:i<65536?3:4},t.calculateUTF8=function(i){for(var r,e=0;(r=i())!==null;)e+=r<128?1:r<2048?2:r<65536?3:4;return e},t.calculateUTF16asUTF8=function(i){var r=0,e=0;return t.UTF16toUTF8(i,function(n){++r,e+=n<128?1:n<2048?2:n<65536?3:4}),[r,e]},t}();return l.toUTF8=function(t,i){if(typeof t>"u"&&(t=this.offset),typeof i>"u"&&(i=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof i!="number"||i%1!==0)throw TypeError("Illegal end: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}var r;try{U.decodeUTF8toUTF16(function(){return t<i?this.view[t++]:null}.bind(this),r=v())}catch{if(t!==i)throw RangeError("Illegal range: Truncated data, "+t+" != "+i)}return r()},o.fromUTF8=function(t,i,r){if(!r&&typeof t!="string")throw TypeError("Illegal str: Not a string");var e=new o(U.calculateUTF16asUTF8(d(t),!0)[1],i,r),n=0;return U.encodeUTF16toUTF8(d(t),function(a){e.view[n++]=a}),e.limit=n,e},o})})(Q);const rt=G;var D=(f=>(f[f.BIND=0]="BIND",f[f.BOOLEAN=1]="BOOLEAN",f[f.BYTE=2]="BYTE",f[f.SHORT=3]="SHORT",f[f.INT=4]="INT",f[f.LONG=5]="LONG",f[f.FLOAT=6]="FLOAT",f[f.DOUBLE=7]="DOUBLE",f[f.COLOR=8]="COLOR",f[f.STRING=9]="STRING",f[f.ENUM=10]="ENUM",f))(D||{}),J=(f=>(f[f.STORAGE_DATA=0]="STORAGE_DATA",f[f.CONFIG=1]="CONFIG",f))(J||{});class et{constructor(y,o){this.storageType=y,this.version=o}}class nt{constructor(y,o,l){Z(this,"categories",[]);this.header=y,this.categoryAmount=o,this.configName=l}}class ht{constructor(y,o,l,b,E){Z(this,"modules",[]);this.category=y,this.x=o,this.y=l,this.expanded=b,this.moduleCount=E}}class at{constructor(y,o,l){this.name=y,this.settingType=o,this.value=l}}class st{constructor(y,o){Z(this,"settings",[]);this.name=y,this.settingCount=o}}function lt(f){return new et(f.readByte(),f.readByte())}function P(f){const y=f.readShort();return f.readUTF8String(y)}function ot(f){const y=P(f),o=f.readByte();let l;switch(o){case D.BIND:l=f.readInt();break;case D.BOOLEAN:l=f.readByte()==1;break;case D.BYTE:l=f.readByte();break;case D.SHORT:l=f.readShort();break;case D.INT:l=f.readInt();break;case D.LONG:l=f.readLong();break;case D.FLOAT:l=f.readFloat();break;case D.DOUBLE:l=f.readDouble();break;case D.COLOR:l=f.readInt();break;case D.STRING:l=P(f);break;case D.ENUM:l=f.readByte();break;default:throw new Error}return new at(y,o,l)}function ut(f){const y=P(f),o=f.readByte(),l=new st(y,o);for(let b=0;b<o;b++)l.settings.push(ot(f));return l}function ft(f){const y=f.readByte(),o=f.readShort(),l=f.readShort(),b=f.readByte()==1,E=f.readByte(),d=new ht(y,o,l,b,E);for(let v=0;v<E;v++)d.modules.push(ut(f));return d}function gt(f){const y=lt(f);if(y.storageType!=J.CONFIG)throw new Error("Filetype not supported currently :(");const o=P(f),l=f.readByte(),b=new nt(y,l,o);for(let E=0;E<l;E++)b.categories.push(ft(f));return b}const W=document.getElementById("goBtn"),yt=document.getElementById("jsoncrackEmbed"),j=document.getElementById("dropOverlay");document.body.ondrop=f=>{var l,b;f.preventDefault();const y=(b=(l=f.dataTransfer)==null?void 0:l.files)==null?void 0:b.item(0);if(!y)return;const o=new FileReader;o.readAsArrayBuffer(y),o.onload=async()=>{var E;try{j.style.display="none";const d=rt.wrap(o.result,"binary",!1);let v=gt(d);W.style.display="block",(E=yt.contentWindow)==null||E.postMessage({json:JSON.stringify(v)},"*"),W.onclick=()=>{open(`https://jsonhero.io/new?j=${btoa(JSON.stringify(v))}`)}}catch(d){console.log(d),j.style.display="grid",j.innerText="Failed to read file: "+d}}};document.body.ondragover=f=>{f.preventDefault()};
